# RAG Chatbot System - Dependencies List
# This project uses Node.js/NestJS (not Python)
# Actual dependencies are managed in nestjs-api/package.json
# This file provides a human-readable list of all dependencies

# ============================================================================
# Production Dependencies
# ============================================================================

# NestJS Framework
@nestjs/common==^11.0.1
@nestjs/core==^11.0.1
@nestjs/platform-express==^11.1.8
@nestjs/config==^4.0.2
@nestjs/axios==^4.0.1

# Vector Database Client
@qdrant/js-client-rest==^1.15.1

# OpenAI SDK (used for Ollama API calls - OpenAI-compatible)
openai==^6.6.0

# File Processing
pdf-parse==^2.4.5
fluent-ffmpeg==^2.1.3
multer==^2.0.2
form-data==^4.0.4

# Audio Transcription (Local Hugging Face Whisper)
@xenova/transformers==^2.17.2
wavefile==^11.0.0

# TypeScript Type Definitions (Production)
@types/fluent-ffmpeg==^2.1.28
@types/multer==^2.0.0

# Core Runtime
reflect-metadata==^0.2.2
rxjs==^7.8.1

# ============================================================================
# Development Dependencies
# ============================================================================

# NestJS CLI & Testing
@nestjs/cli==^11.0.0
@nestjs/schematics==^11.0.0
@nestjs/testing==^11.0.1

# TypeScript
typescript==^5.7.3
ts-node==^10.9.2
ts-loader==^9.5.2
tsconfig-paths==^4.2.0

# TypeScript Type Definitions (Development)
@types/node==^22.10.7
@types/express==^5.0.0
@types/jest==^29.5.14
@types/supertest==^6.0.2

# Testing
jest==^29.7.0
ts-jest==^29.2.5
supertest==^7.0.0

# Code Quality
eslint==^9.18.0
@eslint/eslintrc==^3.2.0
@eslint/js==^9.18.0
eslint-config-prettier==^10.0.1
eslint-plugin-prettier==^5.2.2
prettier==^3.4.2
typescript-eslint==^8.20.0
globals==^16.0.0

# Build Tools
@swc/cli==^0.6.0
@swc/core==^1.10.7
source-map-support==^0.5.21

# ============================================================================
# Docker Services (External Dependencies)
# ============================================================================

# Vector Database
qdrant/qdrant:latest

# LLM & Embeddings Provider
ollama/ollama:latest

# Web UI
ghcr.io/open-webui/open-webui:main

# ============================================================================
# System Dependencies (Required in Docker Container)
# ============================================================================

# Base Image
node:20-slim

# System Packages (installed via apt-get)
ffmpeg
curl

# ============================================================================
# Ollama Models (Downloaded on First Use)
# ============================================================================

# Embedding Model
nomic-embed-text:latest

# Chat Model
llama3:8b

# ============================================================================
# Hugging Face Models (Downloaded on First Use, Cached Locally)
# ============================================================================

# Whisper Model for Audio Transcription
Xenova/whisper-small

# Alternative Whisper Models (Optional)
# Xenova/whisper-tiny
# Xenova/whisper-base
# Xenova/whisper-medium
# Xenova/whisper-large

# ============================================================================
# Environment Variables Required
# ============================================================================

# Ollama Configuration
# OLLAMA_API_URL=http://ollama:11434/v1
# OLLAMA_EMBEDDING_MODEL=nomic-embed-text:latest
# OLLAMA_CHAT_MODEL=llama3:8b
# OLLAMA_TIMEOUT_SECONDS=600

# Qdrant Configuration
# QDRANT_URL=http://qdrant:6333

# File Upload
# UPLOAD_DIR=/app/uploads

# Local Whisper Configuration
# USE_LOCAL_WHISPER=true
# WHISPER_MODEL=Xenova/whisper-small

# Optional: OpenAI Whisper Fallback
# OPENAI_API_KEY=your-openai-api-key
# OPENAI_BASE_URL=https://api.openai.com/v1

# ============================================================================
# Installation Instructions
# ============================================================================

# For Node.js projects, dependencies are installed via:
# cd nestjs-api
# npm ci

# Docker services are started via:
# docker-compose up -d

# Ollama models are pulled automatically on first use, or manually:
# docker exec -it rag-ollama-1 ollama pull nomic-embed-text
# docker exec -it rag-ollama-1 ollama pull llama3:8b

# Hugging Face Whisper model is downloaded automatically on first transcription

